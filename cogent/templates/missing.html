{% extends "base.html" %}
{% block head %}
<style>
  .missing-table th,
  .missing-table td {
    padding: 0.75rem 1rem;
  }

  .missing-table tbody tr:nth-child(even) td {
    background-color: #f2f2f2;
  }
</style>
{% endblock %}
{% block content %}
{% if not missing %}
<p>No nodes missing</p>
{% else %}
<h3>Registered nodes not reporting in last eight hours</h3>
<table class="missing-table table table-bordered">
    <tr><th>Node</th><th>House</th><th>Room</th><th>Last Heard</th></tr>
    {% for node in missing %}
    <tr>
        <td>{{ node.node }}</td>
        <td>{{ node.house }}</td>
        <td>{{ node.room }}</td>
        <td>{{ node.last }}</td>
    </tr>
    {% endfor %}
</table>
{% endif %}

{% if not extra %}
<p>No extra nodes detected.</p>
{% else %}
<h3>Extra nodes that weren't expected</h3>
{% for node in extra %}
<p>{{ node.node }} <a href="{{ node.register_url }}">(register)</a></p>
{% endfor %}
{% endif %}
{% endblock %}
